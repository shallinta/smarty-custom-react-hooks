import{useState as n,useCallback as t,useEffect as r}from"react";function e(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=[],e=!0,i=!1,o=void 0;try{for(var u,f=n[Symbol.iterator]();!(e=(u=f.next()).done)&&(r.push(u.value),!t||r.length!==t);e=!0);}catch(n){i=!0,o=n}finally{try{e||null==f.return||f.return()}finally{if(i)throw o}}return r}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(i){var o=e(n(!1),2),u=o[0],f=o[1],c=e(n(!1),2),a=c[0],l=c[1],v=e(n(!1),2),y=v[0],d=v[1],p=e(n(!1),2),s=p[0],m=p[1],h=t(function(n){n.target===i&&(m(!1),u||l(!1))},[u]);r(function(){return i&&i.addEventListener("transitionend",h,!1),function(){i&&i.removeEventListener("transitionend",h)}},[h]),r(function(){a&&setTimeout(function(){d(!0)},10)},[a]);var w=t(function(n){n!==u&&(s&&(l(u),d(u),m(!1)),setTimeout(function(){f(n),m(!0),n?l(!0):d(!1)},10))},[u,s]);return[a,y,w]},u={},f=null,c=null,a=!0,l=0,v=function(r,o,v,y,d){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e(n(0),2),m=s[0],h=s[1],w=t(r,o),g=t(v,y),T=p.leading,A=p.trailing,b=p.maxWait,E=t(function(){if(w&&(d||!u[r])){u[r]=!0;var n=w.apply(void 0,arguments);n&&n.then?(h(function(n){return n+1}),n.then(function(n){return n},function(n){return n}).then(function(n){n&&g(n),u[r]=!1,h(function(n){return n-1})})):u[r]=!1}},[d,u,w,g]);return[m>0,t(function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];if(d){var e=(new Date).getTime();f&&clearTimeout(f),T&&a&&(a=!1,E.apply(void 0,t)),b>0&&e-l>b&&(0!==l&&E.apply(void 0,t),l=e),f=setTimeout(function(){l=0,E.apply(void 0,t),f=null,a=!0},d),A&&(c&&(clearTimeout(c),c=null),c=setTimeout(function(){E.apply(void 0,i(o)),c=null},d))}else E.apply(void 0,t)},[E,l,f,a])]},y=!1,d=function(r,i,o,u){var f=e(n(!1),2),c=f[0],a=f[1],l=t(r,i),v=t(o,u);return[c,t(function(){if(!y&&l){y=!0;var n=l.apply(void 0,arguments);n&&n.then?(a(!0),n.then(function(n){return n},function(n){return n}).then(function(n){n&&v(n),y=!1,a(!1)})):y=!1}},[y,l,a])]},p=function(){var t=e(n(0),2),i=t[0],o=t[1];return r(function(){if(0===i)return function(){};var n=setInterval(function(){o(function(n){return n>0?n-1:0})},1e3);return function(){clearInterval(n)}},[i]),[i,o]},s=function(r,i){var o=e(n(r),2),u=o[0],f=o[1],c=e(n(!1),2),a=c[0],l=c[1],v=t(function(){i instanceof RegExp?l(!i.test(u)):i instanceof Function&&l(i(u))},[i,u]);return[u,f,a,v]},m=function(i,o){var u=e(n(function(){return o&&"function"==typeof o?o:function(){}}),2),f=u[0],c=u[1],a=e(n(!1),2),l=a[0],v=a[1];return r(function(){var n=function(n){if(f&&"function"==typeof f){if(i===n.key)return void f(n.key);if(i===n.code)return void f(n.code);i===n.keyCode&&f(n.keyCode)}};return l&&window.addEventListener("keydown",n,!1),function(){l&&window.removeEventListener("keydown",n)}},[i,l,f]),[t(function(){v(!0)},[]),t(function(){v(!1)},[]),t(function(n){n&&"function"==typeof n&&c(function(){return n})},[])]};export{o as useAnimation,v as useAsyncDebounce,d as useAsync,p as useCountdown,s as useInput,m as useKeyDown};
