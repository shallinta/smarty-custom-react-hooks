import{useState as n,useCallback as t,useEffect as r}from"react";function e(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=[],e=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(e=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);e=!0);}catch(n){i=!0,o=n}finally{try{e||null==a.return||a.return()}finally{if(i)throw o}}return r}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(i){var o=e(n(!1),2),u=o[0],a=o[1],f=e(n(!1),2),c=f[0],l=f[1],v=e(n(!1),2),p=v[0],y=v[1],s=e(n(!1),2),d=s[0],m=s[1],h=t(function(n){n.target===i&&(m(!1),u||l(!1))},[u]);r(function(){return i&&i.addEventListener("transitionend",h,!1),function(){i&&i.removeEventListener("transitionend",h)}},[h]),r(function(){c&&setTimeout(function(){y(!0)},10)},[c]);var g=t(function(n){n!==u&&(d&&(l(u),y(u),m(!1)),setTimeout(function(){a(n),m(!0),n?l(!0):y(!1)},10))},[u,d]);return[c,p,g]},u={},a=null,f=null,c=!0,l=0,v=function(r,o,v,p,y){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=e(n(0),2),m=d[0],h=d[1],g=t(r,o),T=t(v,p),w=s.leading,A=s.trailing,b=s.maxWait,E=t(function(){if(g&&(y||!u[r])){u[r]=!0;var n=g.apply(void 0,arguments);n&&n.then?(h(function(n){return n+1}),n.then(function(n){return n},function(n){return n}).then(function(n){n&&T(n),u[r]=!1,h(function(n){return n-1})})):u[r]=!1}},[y,u,g,T]);return[m>0,t(function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];if(y){var e=(new Date).getTime();a&&clearTimeout(a),w&&c&&(c=!1,E.apply(void 0,t)),b>0&&e-l>b&&(0!==l&&E.apply(void 0,t),l=e),a=setTimeout(function(){l=0,E.apply(void 0,t),a=null,c=!0},y),A&&(f&&(clearTimeout(f),f=null),f=setTimeout(function(){E.apply(void 0,i(o)),f=null},y))}else E.apply(void 0,t)},[E,l,a,c])]},p=!1,y=function(r,i,o,u){var a=e(n(!1),2),f=a[0],c=a[1],l=t(r,i),v=t(o,u);return[f,t(function(){if(!p&&l){p=!0;var n=l.apply(void 0,arguments);n&&n.then?(c(!0),n.then(function(n){return n},function(n){return n}).then(function(n){n&&v(n),p=!1,c(!1)})):p=!1}},[p,l,c])]},s=function(){var t=e(n(0),2),i=t[0],o=t[1];return r(function(){if(0===i)return function(){};var n=setInterval(function(){o(function(n){return n>0?n-1:0})},1e3);return function(){clearInterval(n)}},[i]),[i,o]},d=function(r,i){var o=e(n(r),2),u=o[0],a=o[1],f=e(n(!1),2),c=f[0],l=f[1],v=t(function(){i instanceof RegExp?l(!i.test(u)):i instanceof Function&&l(i(u))},[i,u]);return[u,a,c,v]};export{o as useAnimation,v as useAsyncDebounce,y as useAsync,s as useCountdown,d as useInput};
